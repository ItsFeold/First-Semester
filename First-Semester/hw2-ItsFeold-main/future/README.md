## ΠΕΡΙΓΡΑΦΗ ## 

<p align="center">

Το future.c είναι ένα πρόγραμμα το οποίο αποτελεί υλοποίηση του αλγορίθμου [κινούμενο μέσο όρο](https://en.wikipedia.org/wiki/Moving_average) (Simple Moving Average - SMA), ο οποίος χρησιμοποιείται για να γίνουν προβλέψεις, ειδικά για οικονομικά assets. Ο κινούμενος μέσος όρος είναι όμοιος με τον κανονικό μέσο όρο, με τη διαφορά πως ο κινούμενος μέσος όρος απαιτεί και ένα "παράθυρο" (window), δηλαδή τον αριθμό των τιμών (μετρώντας από το τέλος) που θέλουμε να λάβουμε υπόψη μας στον υπολογισμό του μέσου όρου. Συγκεκριμένα, το πρόγραμμα μας δέχεται ως όρισμα το όνομα ενός αρχείου που περιέχει αριθμούς, και προεραιτικά ένα παράθυρο, δηλαδή το πλήθος των τιμών που θα χρησιμοποιήσουμε για τον υπολογισμό του μέσου όρου. Εφόσον δωθούν σωστές είσοδοι (έγκυρο όνομα αρχείου, κατάλληλο window) τότε το πρόγραμμα υπολογίζει το κινούμενο μέσο όρο, το εκτυπώνει, και τερματίζει με κωδικό εξόδου `0`. Εάν δωθούν μη έγκυροι είσοδοι, τότε το πρόγραμμα εκτυπώνει αντίστοιχο μύνημα σφάλματος και τερματίζει με κωδικό εξόδου `1`.

Εαν δεν δωθεί κάποιο window από το χρήστη, το window θα είναι `50` (default value). Εάν το window είναι μικρότερο από 1, ή μεγαλύτερο από το συνολικό πλήθος των στοιχείων στο αρχείο που δίνεται, τότε το πρόγραμμα αποτυγχάνει και τερματίζει με κωδικό εξόδου `1`.

</p>


## COMPILATION
Για την μεταγλώτισση του προγράμματος αρκεί η εκτέλεση της παρακάτω εντολής στην γραμμή εντολών.

```sh
gcc -Os -Wall -Wextra -Werror -pedantic -o future future.c
```
## ΕΚΤΕΛΕΣΗ ΤΟΥ ΠΡΟΓΡΑΜΜΑΤΟΣ
Το πρόγραμμά θα πρέπει να παίρνει 2 ορίσματα από την γραμμή εντολών στην μορφή  ./future <filename> --window. Το πρώτο είναι το όνομα του αρχείου που θα ανοίξει, και το δεύτερο (προαιρετικό) το πλήθος των (τελευταίων) τιμών που θα διαβάσει για τον υπολογισμό του κινούμενου μέσου όρου.

```sh
Usage: ./future <filename> [--window N (default: 50)]
```
</p>

## ΤΕΧΝΙΚΕΣ ΠΡΟΔΙΑΓΡΑΦΕΣ
To πρόγραμμα:
- Ολοκληρώνει την εκτέλεση του μέσα σε 1 δετερόλεπτο
- Είναι γραμμένο σε γλώσσα C.
- Επεξεργάζεται τιμές κινητής υποδιαστολής

</p>

## DEMO 
Παραδείγματα εκτέλεσης του προγράμματος σε Linux περιβάλλον, σε μηχανήματα του εργαστηρίου:
```sh
gcc -Os -Wall -Wextra -Werror -pedantic -o future future.c
$ ./future
Usage: ./future <filename> [--window N (default: 50)]
$ cat values.txt
9 7 7 1 4 4 4 38 8 4
$ ./future values.txt --window 10
8.60
$ echo $?
0
$ ./future values.txt --window 3
16.67
$ ./future values.txt --window 1
4.00
$ ./future values.txt --window 0
Window too small!
$ echo $?
1
$ ./future values.txt --window 0 2> out
$ cat out
Window too small!
$ ./future values.txt --window 12
Window too large!
$ ./futute values.txt --window 1000000000000
Failed to allocate window memory
$ echo $?
1
```

</p>

## EASTER EGG ##
Το πρόγραμμα περιέχει μια επιπλέον "easter egg" λειτουργία, το --compete, το οποίο χρησιμοποιηεί έναν διαφορετικό αλγόριμθο, το [WMA (Weighted Moving Average)](https://en.wikipedia.org/wiki/Moving_average#Weighted_moving_average), προκειμένου να προβλέψει τον τρόπο με τον οποίο ενδέχεται να κινηθεί ένα οικονομικό asset, όπως για παράδειγμα το Dow Jones. Ο αλγόριμθος WMA λειτουργεί όμοια με τον παραπάνω, τον SMA, με την διαφορά ότι δίνει επιπλέον βαρύτητα στις πιο πρόσφατες τιμές του οικονομικού μας asset, προκειμένου να αυξήσει την ακρίβεια του. Για την εκτέλεση του προγράμματος, αρκεί η εντολή: 
```sh
$ ./future <filename> --compete
```
Ένα παράδειγμα εκτέλεσης είναι το εξής: 
```sh
$ ./future dow_jones.txt --compete
43796.65
```



